作者：RednaxelaFX
链接：https://www.zhihu.com/question/54748092/answer/141903877
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。



**概述JIT编译器与AOT编译器的比较**

JIT编译器跟传统静态编译器（AOT编译器）的主要差别，大概有5个吧：

1. JIT编译器可以使用运行时才可以获取的信息，而AOT编译器不可以；

2. JIT编译器不需要生成PIC（地址无关代码）就可以天然地实现动态链接；AOT编译器如果要支持动态链接的话则必须生成PIC；

3. JIT编译器可以在运行时灵活地选择编译的范围和编译的时机；并且，一段代码已经被JIT编译后，仍然可以在有需要的时候抛弃之前编译的结果而再次JIT编译。这使得JIT编译可以兼顾激进优化与语义的完备性。

4. 当然，既然是在运行时编译，JIT编译器**常常**（并非必然）会受限于时间与空间开销的限制而需要选择只使用比较轻量的数据结构和算法来做分析/优化/代码生成，所以可以花在优化上的资源***常常\***比AOT编译器少，但这可以通过前面3点来得到低开销的弥补方式。

5. 1. 同时也存在JIT编译器是偏向让峰值性能最大化的，它就可能会仍然选取跟AOT编译器相似开销的优化算法，舍弃一点编译速度来换取编译生成更好的代码质量。鄙司[Azul Systems](https://link.zhihu.com/?target=https%3A//www.azul.com/)的[Zing®](https://link.zhihu.com/?target=https%3A//www.azul.com/products/zing/) JVM里新的Falcon编译器就是这样的例子。

6. JIT编译器作为运行时系统（runtime system）的一部分，有可能需要更紧密地与运行时系统中的其它部分（例如说代码的动态加载/链接器、解释器、线程管理、异常处理、GC等*可能*存在的组件）相配合，例如可能要生成额外的元数据，也可能要支持某些事件响应/回调